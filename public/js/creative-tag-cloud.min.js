/**
* JavaScript part for Creative Tag Cloud
* Last modified: 2020/07/29 10:58:24
*
* @since      0.1.0
* @package    creative_tag_cloud
* @subpackage creative_tag_cloud/public/js
* @author     Christoph Amthor @ Chatty Mango
* @copyright   2017 Christoph Amthor (@ Chatty Mango, chattymango.com)
* @license     GPLv3
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
* THE SOFTWARE.
*/
function chattyMangoBuildWaveTagCloud(t,a,e,n,o,h,g){var d=jQuery("#"+t).width(),r=jQuery("#"+t).height(),u=Math.round(a/2),i=Math.round(r/o/2)+a/2;chattyMangoDrawWaves(t,u,i,d,r,Math.round(.5*i),e,n,o,h,g)}function chattyMangoDrawWaves(t,a,e,n,o,h,g,d,r,u,i){for(var M,c,y,l=n/g,f=Math.round(o/r/3*u),p=0;p<r;p++){M=0,c=Math.round(a+u*p);do{if(y=Math.round(2*l*Math.pow(d,M)),0===M){var v="M"+chattyMangoRnd1(c)+" "+chattyMangoRnd1(e+p*f)+" Q "+chattyMangoRnd1(c+l)+" "+chattyMangoRnd1(e+p*f-h)+" "+chattyMangoRnd1(c+y)+" "+chattyMangoRnd1(e+p*f)+" ";M++}else v+="T "+chattyMangoRnd1(c+M*y)+" "+chattyMangoRnd1(e+p*f)+" ";M++}while(c+M*y<n&&M<20);var m=document.getElementById(t+"_path_"+p);if(m.setAttribute("d",v),"auto"===i){var s=document.getElementById(t+"_text_path_"+p);if(void 0!==m.getTotalLength&&void 0!==s.getComputedTextLength){var T=0;if(m.getTotalLength()<1.1*s.getComputedTextLength())for(;m.getTotalLength()<1.1*s.getComputedTextLength()&&T<20;)jQuery("#"+t+"_text_path_"+p+" tspan:last-child").remove(),T++}}}}function chattyMangoBuildSpiralTagCloud(t,a,e,n,o,h,g,d){var r,u,i,M,c,y,l=jQuery("#"+t).width(),f=jQuery("#"+t).height(),p=Math.round(l/2),v=Math.round(f/2),m=a/2.3,s=20*g,T=e/a,w=d;if(r="ccw"===n.toLowerCase()?1:-1,"auto"===h||"size"===h||h<1){i=l<f?l:f;(u=Math.round((i/2-20)/s+1))<1&&(u=1),u>10&&(u=10)}else u=h;if(y=u*(1+s*(u-1)),M=m*g,c=Math.pow(T,2/(y*u)*w),chattyMangoDrawSpiral(t,r,p,v,M,u,o,c,y),"auto"===h){var L=document.getElementById(t+"_text_path"),R=document.getElementById(t+"_path");if(void 0!==R.getTotalLength&&void 0!==L.getComputedTextLength){if(1===r)_=1.1;else var _=1.3;L.getComputedTextLength()<1e3&&(_*=2);var x=L.getComputedTextLength()*_;if(R.getTotalLength()>x){var C=function(a){R.getTotalLength(a)>x&&a>4&&(y=--a*(1+s*(a-1)),c=Math.pow(T,2/(y*a)*w),chattyMangoDrawSpiral(t,r,p,v,M,a,o,c,y),setTimeout(function(){C(a)},1))};C(u)}else if(R.getTotalLength()<x){var I=function(a){R.getTotalLength()<x&&a<20&&(y=++a*(1+s*(a-1)),c=Math.pow(T,2/(y*a)*w),chattyMangoDrawSpiral(t,r,p,v,M,a,o,c,y),setTimeout(function(){I(a)},1))};I(u)}}}}function chattyMangoDrawSpiral(t,a,e,n,o,h,g,d,r){for(var u,i=parseInt(100),M=2*Math.PI*h/r,c=r;c>i;c--){o>1&&(o*=d),u=o/(2*Math.PI);var y=a*M*c+parseFloat(g),l=u*y*Math.cos(y)+e,f=u*y*Math.sin(y)+n;if(c===r)var p="M"+chattyMangoRnd1(l)+" "+chattyMangoRnd1(f)+" S ";else p+=chattyMangoRnd1(l)+" "+chattyMangoRnd1(f)+" "}(r-i)/2+"".indexOf(".5")!==-1&&(p+=chattyMangoRnd1(l)+" "+chattyMangoRnd1(f)),document.getElementById(t+"_path").setAttribute("d",p)}function chattyMangoRnd1(t){return Math.round(10*t)/10}
